(function(){"use strict";var e={7863:function(e,t,r){var s=r(6369),n=function(){var e=this,t=e._self._c;return t("main",{staticClass:"main-container"},[t("Header"),t("div",{staticClass:"main-block"},[t("section",{staticClass:"navbar-section"},[t("Navbar")],1),t("section",{staticClass:"view-section"},[t("router-view")],1)])],1)},o=[],a=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"nav"},e._l(e.routers,(function(r,s){return t("li",{key:s},[t("router-link",{attrs:{"class-active":"active",to:r.path}},[e._v(e._s(r.name))])],1)})),0)},i=[],u=function(){var e=this,t=e._self._c;return t("div",{key:e.getProfile.id},[t("h1",[e._v("Name of our young Coder: "+e._s(e.getProfile.name))]),t("p",[e._v("urLevel: "+e._s(e.getProfile.lvl))]),t("div",[e._v("urSkills:")]),e._l(e.getProfile.skills,(function(r){return t("ul",{key:r},[t("li",[e._v(e._s(r))])])})),t("img",{attrs:{src:e.getProfile.photo,alt:"user.photo"}})],2)},l=[],c=r(3822),p={name:"HomePage",props:{},computed:(0,c.Se)(["getProfile"]),methods:(0,c.nv)(["fetchProfile"]),async mounted(){this.fetchProfile()}},d=p,m=r(1001),h=(0,m.Z)(d,u,l,!1,null,"18bce173",null),f=h.exports,v=function(){var e=this,t=e._self._c;return t("div",[e._v("Learn")])},g=[],_={name:"LearnPage"},w=_,k=(0,m.Z)(w,v,g,!1,null,"b64015d6",null),y=k.exports,b=function(){var e=this,t=e._self._c;return t("div",e._l(e.getWorks,(function(r){return t("div",{key:r.id},[t("h1",[e._v("Task title: "+e._s(r.name))]),t("p",[e._v("text: "+e._s(r.body))]),t("img",{attrs:{src:r.img,alt:"task.photo"}})])})),0)},P=[],S={name:"WorksPage",computed:(0,c.Se)(["getWorks"]),methods:(0,c.nv)(["fetchWorks"]),async mounted(){this.fetchWorks()}},x=S,R=(0,m.Z)(x,b,P,!1,null,"1d29635b",null),U=R.exports,E=function(){var e=this,t=e._self._c;return t("div",e._l(e.getTasks,(function(r){return t("div",{key:r.id},[t("h1",[e._v("Task title: "+e._s(r.name))]),t("p",[e._v("text: "+e._s(r.body))]),t("img",{attrs:{src:r.img,alt:"task.photo"}})])})),0)},O=[],T={name:"WorksPage",computed:(0,c.Se)(["getTasks"]),methods:(0,c.nv)(["fetchTasks"]),async mounted(){this.fetchTasks()}},Z=T,L=(0,m.Z)(Z,E,O,!1,null,"1d0f5325",null),A=L.exports,C=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Create Account")]),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("p",[t("button",{on:{click:e.register}},[e._v("singUp")])])])},$=[],W={name:"SingUp",data(){return{user:{email:"",password:""}}},methods:{register(){this.$store.dispatch("login",this.user)}}},j=W,N=(0,m.Z)(j,C,$,!1,null,"5cec7f84",null),H=N.exports,q=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Login")]),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("p",[t("button",{on:{click:e.login}},[e._v("login")])]),e.errMsg?t("p",[e._v(e._s(e.errMsg))]):e._e()])},B=[],M={name:"LoginPage",data(){return{user:{email:"",password:""},errMsg:""}},methods:{login(){this.$store.dispatch("login",this.user)}}},F=M,I=(0,m.Z)(F,q,B,!1,null,"71eb90dc",null),D=I.exports,z=r(4275),K=r(4028);const X={apiKey:"AIzaSyBUAF6NxOE91A1U6ByhStdFDmmpHNltk7Y",authDomain:"authforvue-d0215.firebaseapp.com",projectId:"authforvue-d0215",storageBucket:"authforvue-d0215.appspot.com",messagingSenderId:"504423202647",appId:"1:504423202647:web:ce5834b6788d3aafccc812"},Y=(0,z.ZF)(X),G=(0,K.v0)(Y);var J=r(2631);s.ZP.use(J.Z);const Q=[{path:"/",name:"Home",component:f,meta:{requiresAuth:!0}},{path:"/learn",name:"Learn",component:y,meta:{requiresAuth:!0}},{path:"/Works",name:"Works",component:U,meta:{requiresAuth:!0}},{path:"/Tasks",name:"Tasks",component:A,meta:{requiresAuth:!0}},{path:"/Registration",name:"Registration",component:H},{path:"/Login",name:"Login",component:D}],V=new J.Z({mode:"history",routes:Q});V.beforeEach(((e,t,r)=>{"/Login"===e.path&&G.currentUser||"/Registration"===e.path&&G.currentUser?r("/"):!e.matched.some((e=>e.meta.requiresAuth))||G.currentUser?r():r("/Login")}));var ee=V,te={name:"NavBar",data(){return{routers:Q}}},re=te,se=(0,m.Z)(re,a,i,!1,null,"4abbba68",null),ne=se.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[null!=e.$store.state.user?t("div",[t("p",[e._v(e._s(e.$store.state.user.email))]),t("button",{on:{click:function(t){return t.preventDefault(),e.signOut.apply(null,arguments)}}},[e._v("SingOut")])]):e._e()])},ae=[],ie={name:"HeaderBlock",data(){return{show:this.$store.state.user}},computed:{...c.Se.getUser},methods:{...c.nv["logOut"],signOut(){null!==this.$store.state.user&&this.$store.dispatch("logOut")}},async beforeMount(){this.$store.dispatch("fetchUser"),console.log("k")}},ue=ie,le=(0,m.Z)(ue,oe,ae,!1,null,"40eee6d4",null),ce=le.exports,pe={name:"App",components:{Navbar:ne,Header:ce}},de=pe,me=(0,m.Z)(de,n,o,!1,null,null,null),he=me.exports;s.ZP.use(c.ZP);var fe=new c.ZP.Store({actions:{async fetchProfile({commit:e}){const t=await fetch("http://localhost:3000/Profile"),r=await t.json();e("profileReducer",r)},async fetchTasks({commit:e}){const t=await fetch("http://localhost:3000/Tasks"),r=await t.json();e("tasksReducer",r)},async fetchWorks({commit:e}){const t=await fetch("http://localhost:3000/Works"),r=await t.json();console.log(r),e("worksReducer",r)},async login({commit:e},t){const{email:r,password:s}=t;try{await(0,K.e5)(G,r,s)}catch(n){switch(n.code){case"auth/user-not-found":alert("auth/user-not-found");break;case"auth/wrong-password":alert("auth/wrong-password");break;default:alert("something wrong")}return}e("SET_USER",G.currentUser),console.log(G),ee.push("/")},async logOut({commit:e}){await(0,K.w7)(G),e("CLEAR_USER"),ee.push("/Login")},async register({commit:e},t){const{email:r,password:s}=t;try{await(0,K.Xb)(G,r,s)}catch(n){switch(n.code){default:alert("something wrong")}return}e("SET_USER",G.currentUser),ee.push("/")},fetchUser({commit:e}){G.onAuthStateChanged((async t=>{null===t?e("CLEAR_USER"):(e("SET_USER"),ee.isReady&&"/Login"===ee.currentRoute.value.path&&ee.push("/"))}))}},mutations:{userReducer(e,t){e.user=t},profileReducer(e,t){e.profile=t},tasksReducer(e,t){e.tasks=t},worksReducer(e,t){e.works=t},SET_USER(e,t){e.user=t},CLEAR_USER(e){e.user=null}},state:{user:null,profile:{},tasks:[],works:[]},getters:{getUser(e){return e.user},getProfile(e){return e.profile},getTasks(e){return e.tasks},getWorks(e){return e.works}}});new s.ZP({store:fe,router:ee,render:e=>e(he)}).$mount("#app")}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,o){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,u=0;u<s.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[u])}))?s.splice(u--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,a=s[0],i=s[1],u=s[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(u)var c=u(r)}for(t&&t(s);l<a.length;l++)o=a[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},s=self["webpackChunkvue2"]=self["webpackChunkvue2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(7863)}));s=r.O(s)})();
//# sourceMappingURL=app.bf08f874.js.map